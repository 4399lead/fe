<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../global_ue.css" />

<title>延时加载图片 ue.lazyimg</title>
<style>
	.ue-tab{ margin:50px; width:200px;}
	.ue-tab-title{ border-bottom:1px solid #CCC; font-size:14px; height:30px; line-height:30px; cursor:pointer}
	.ue-tab-content{ padding:10px; display:none;border:1px solid #CCC; border-top:0;border-radius:0 0 3px 3px;}
	.ue-tab-title b{width: 0;height: 0;line-height:0; font-size:0;border-left: 4px solid #999;border-top: 4px solid transparent;border-bottom: 4px solid transparent; margin-top:11px; margin-right:5px;_border-color:#fff #fff #fff #999; overflow:hidden; display:inline-block; zoom:1;}
	.ue-tab .cur b{border-top: 4px solid #999;border-right: 4px solid transparent;border-left: 4px solid transparent; margin-top:14px; _border-color:#999 #fff #fff #fff;}
</style>
<body>
	<div class="ue-tab" id="ue_tab1">
        <div class="ue-tab-item">
            <h3 class="ue-tab-title"><b></b>tab0</h3>
            <div class="ue-tab-content">
            	<ul>
                	<li><img data-src="images/1.jpg" /></li>
                    <li><img data-src="images/2.jpg" /></li>
                </ul>
            </div>
        </div>
        <div class="ue-tab-item">
            <h3 class="ue-tab-title"><b></b>tab1</h3>
            <div class="ue-tab-content">
            	<ul>
                	<li><img data-src="images/3.jpg" /></li>
                    <li><img data-src="images/4.jpg" /></li>
                </ul>
            </div>
        </div>
        <div class="ue-tab-item">
            <h3 class="ue-tab-title"><b></b>tab2</h3>
            <div class="ue-tab-content">
            	<ul>
                	<li><img data-src="images/5.jpg" /></li>
                    <li><img data-src="images/6.jpg" /></li>
                </ul>
            </div>
        </div>
        <div class="ue-tab-item">
            <h3 class="ue-tab-title"><b></b>tab3</h3>
            <div class="ue-tab-content">
            	<ul>
                	<li><img data-src="images/7.jpg" /></li>
                    <li><img data-src="images/8.jpg" /></li>
                </ul>
            </div>
        </div>
    </div>
</body>
</html>
<script src="../../../release/lib/seajs/sea.js"></script>
<script>
    seajs.use([
        "../../../release/lib/jquery/jquery-1.4.4.min.js",
        "../../../release/js/ks.tab.js",
        "../../../release/js/ks.lazyimg.js"
    ], function(jQuery, tab, lazyimg){
        tab({
            tab : $("#ue_tab1 .ue-tab-title"),
            defaultIndex : -1,
            tabCurrentClass : "cur",
            only : false,
            content : $("#ue_tab1 .ue-tab-content"),
            trigger : "click",
            beforeSwitch : function(){
                //alert("切换之前回调函数");
            },
            afterSwitch : function(){
                //alert("切换之后回调函数");
            },
            beforeShow : function(){
                //alert("显示之前回调函数");
            },
            afterShow : function(index){
                //alert("显示之后回调函数");
                setTimeout(function(){
                    lazyimg({
                        target : $("#ue_tab1 .ue-tab-content").eq(index)
                    })
                },1000);
            }
        });
    });
</script>
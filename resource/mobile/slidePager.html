<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta content="email=no,telephone=no" name="format-detection" />
<style type="text/css">
html{ 
    background:#fff;
    color:#000;
    -webkit-text-size-adjust:100%;
    -ms-text-size-adjust:100%;
}


/*内外边距通常让各个浏览器样式的表现位置不同*/
body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,textarea,p,blockquote,th,td,hr,button,article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{ padding: 0; margin: 0; }
table { border-collapse: collapse; border-spacing: 0; }
fieldset, img { border: 0; }

/* 要注意表单元素并不继承父级 font 的问题 */
body,button,input,select,textarea{ font:500 14px/1.8 'Hiragino Sans GB', sans-serif;}
input,select,img{ vertical-align:middle}
input,select{ outline:none}
input,select,textarea{ font-size:100%;}
ul,ol{ list-style:none }
h1, h2, h3, h4, h5, h6 { font-size: 100%; }
address,cite,dfn,em,var{font-style:normal;}

/* 去掉 firefox 下此元素的边框 */
abbr,acronym{ border:0;font-variant:normal;}

/* 去除默认边框 */
fieldset,img{ border:0;}

/* 一致的 del 样式 */
del { text-decoration:line-through;}

address,caption,cite,code,dfn,em,th,var { font-style:normal;font-weight:500;}

/* ie6 7 8(q) bug 显示为行内表现 */
iframe{ display:block;}

/* 统一上标和下标 */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline;}
sup {top: -0.5em;}
sub {bottom: -0.25em;}

/*重排左对齐*/
caption,th { text-align:left;}

/* IE bug fixed: th 不继承 text-align*/
th{ text-align:inherit; }

/*清除浮动*/
.clearfix:after{ content:""; height:0; visibility:hidden; display:block; clear:both;}
.clearfix{ zoom:1;}
.fl,.fr{display:inline;}
.fl{ float:left }
.fr{ float:right }

.m_slide_pager{width: 100%; overflow: hidden;}
.slide_pager{ width: 100%; overflow: hidden;}
.slide_pager ul{ width: 10000px; overflow: hidden;}
.slide_pager ul li{float: left; padding: 0 15px; background: #f1f1f1; margin: 0 10px; border:2px solid #ff0000;}
.slide_pager ul li.cur{background: #000; color: #fff;}
.slide_page{background: #e0e0e0;}
.slide_page li{float: left; margin: 20px;}
.slide_main{height: 500px; }
</style>
</head>
<body>

<div class="m_slide_pager" id="j-slide_pager">
    <div class="slide_pager">
        <ul>
            <li>1-9</li>
            <li>10-18</li>
            <li>19-27</li>
            <li>28-36</li>
            <li>37-45</li>
            <li>46-54</li>
            <li>55-63</li>
        </ul>
    </div>

    <div class="slide_main">
        <div class="slide_page">
            <ul>
                <li>
                    <img src="http://placebox.es/80X80/AE5CE1/ffffff/page 1/" >
                </li>
                <li>
                    <img src="http://placebox.es/80X80/AE5CE1/ffffff/page 1/" >
                </li>
                <li>
                    <img src="http://placebox.es/80X80/AE5CE1/ffffff/page 1/" >
                </li>
                <li>
                    <img src="http://placebox.es/80X80/AE5CE1/ffffff/page 1/" >
                </li>
                <li>
                    <img src="http://placebox.es/80X80/AE5CE1/ffffff/page 1/" >
                </li>
                <li>
                    <img src="http://placebox.es/80X80/AE5CE1/ffffff/page 1/" >
                </li>
                <li>
                    <img src="http://placebox.es/80X80/AE5CE1/ffffff/page 1/" >
                </li>
                <li>
                    <img src="http://placebox.es/80X80/AE5CE1/ffffff/page 1/" >
                </li>
                <li>
                    <img src="http://placebox.es/80X80/AE5CE1/ffffff/page 1/" >
                </li>
            </ul>
        </div>
    </div>
</div>

<script type="text/javascript" src="../../release/lib/zepto/zepto.min.js" ></script>
<script type="text/javascript" src="../../release/mobile/m.slidePager.js"></script>
<script>
    $(function(){

        var PageCache = {};

        PageCache["1"] = $(".slide_cur_page").html()

        new Mo.slidePager({
            page_target : "#j-slide_pager .slide_main",
            page_item : "#j-slide_pager .slide_page",

            pager_target : "#j-slide_pager .slide_pager ul",
            pager_item : "#j-slide_pager .slide_pager li",
            speed : 400,

            setPageContent : function(page, $page){

                if(page == 0){
                    $page.html('已经到头了');
                } else if(page == this.page_count + 1){
                    $page.html('已经是最后一页');
                } else {
                    if(PageCache[page]){
                        $page.html(PageCache[page]);
                    } else {

                        $page.html('正在加载第' + page + '页数据...');
                        //模拟异步请求的延迟
                        setTimeout(function(){
                            var json = {
                                list : [,,,,,,,,,]
                            }

                            var html = '<ul>';

                            for(var i = 0; i < json.list.length; i++){
                                html += '<li><img src="http://placebox.es/80X80/AE5CE1/ffffff/page' + page + '/" ></li>'
                            }

                            html += '</ul>';

                            PageCache[page] = html;
                            $page.html(html);

                        }, 600);
                    }
                    
                }
            }
        });
    });
</script>
</body>
</html>
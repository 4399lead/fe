<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>测试视频完成是否回调</title>
		<style type="text/css">
			*{ margin:0;padding:0;}
			h1{ text-align: center;}
			.testVideo{ width:610px;margin:20px auto; position: relative;}
			.cover{ position: absolute;width:610px;height:403px;background:#f00;left:0;top:0;}
		</style>
	</head>
	<body>
		<h1>测试视频完成是否会回调</h1>
		<div class="testVideo" id="j-video">
			<!--<embed height="403" width="610" type="application/x-shockwave-flash" class="j-eos" id="j-eos" pluginspage="http://www.macromedia.com/go/getflashplayer" allowscriptaccess="always" allowfullscreen="true" quality="high" wmode="opaque" src="http://video.5054399.com/video/flvPlayer_mobile12.swf?flvID=243600&autoPlay=1&pscale=1&isshade=0&flvName=%E6%96%B0%E4%B8%89%E5%9B%BD%E5%B0%8F%E9%95%87%E7%9C%9F%E4%BA%BA%E8%A7%A3%E8%AF%B4&pdomain=video.5054399.com/4399video/" base=".">-->
                  <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0" height="403" width="610" id="j-flash">
					<param name="movie" value="http://video.5054399.com/video/flvPlayer_mobile13.swf?flvID=243600&autoPlay=1&pscale=1&isshade=0&flvName=%E6%96%B0%E4%B8%89%E5%9B%BD%E5%B0%8F%E9%95%87%E7%9C%9F%E4%BA%BA%E8%A7%A3%E8%AF%B4&pdomain=video.5054399.com/4399video/" />
					<param name="quality" value="high" />
					<param name="allowScriptAccess" value="always" />
					<param name="allowFullScreen" value="true"/> 
					<param name="wmode" value="opaque">
	<embed src="http://video.5054399.com/video/flvPlayer_mobile13.swf?flvID=243600&autoPlay=1&pscale=1&isshade=0&flvName=%E6%96%B0%E4%B8%89%E5%9B%BD%E5%B0%8F%E9%95%87%E7%9C%9F%E4%BA%BA%E8%A7%A3%E8%AF%B4&pdomain=video.5054399.com/4399video/" quality="high" pluginspage="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" height="403" width="610" allowScriptAccess="always" wmode="opaque" allowFullScreen="true" />
</object>


			
		</div>
		
		<script type="text/javascript">
			/*视频播放完成的回调*/
			function video_play_over(){
				var _dv = document.createElement('div');
				_dv.className ="cover";
				_dv.id="j-cover";
				_dv.innerHTML = '视频播放完毕<br/><input type="button" value="重新播放" id="j-replay"/>';
				var _fragment = document.createDocumentFragment();
				 _fragment.appendChild(_dv);
			 	document.getElementById('j-video').appendChild(_fragment);
			 	document.getElementById('j-replay').onclick = videoPlayReplay;
			}

			function videoPlayReplay(){
				document.getElementById('j-cover').style.display="none";
				console.log('视频重播');
				/*视频重播*/
				document.getElementById('j-flash').ToVideoReplay();
			}
		</script>
	</body>
</html>